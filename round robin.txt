#include <stdio.h>

int main(){
    int n, i, time, t_quantum, done=0, cnt=0, current=0;
    int at[20], bt[20], rt[20], ct[20], wt[20], tat[20];
    int time_elapsed = 0;

    printf("Number of processes: "); scanf("%d", &n);
    printf("Time Quantum: "); scanf("%d", &t_quantum);

    for(i=0; i<n; i++) {
        printf("Arrival time of P%d: ", i+1); scanf("%d", &at[i]);
        printf("Burst time of P%d: ", i+1); scanf("%d", &bt[i]);
        rt[i] = bt[i]; // remaining time
    }

    while(done < n) {
        int executed = 0;
        for(i=0; i<n; i++) {
            if(at[i] <= time_elapsed && rt[i] > 0) {
                executed = 1;
                if(rt[i] <= t_quantum) {
                    time_elapsed += rt[i];
                    rt[i] = 0;
                    done++;
                    ct[i] = time_elapsed;
                } else {
                    rt[i] -= t_quantum;
                    time_elapsed += t_quantum;
                }
            }
        }
        if(!executed) time_elapsed++; // CPU idle wait
    }

    for(i=0; i<n; i++) {
        tat[i] = ct[i] - at[i];
        wt[i] = tat[i] - bt[i];
    }

    printf("\nP\tAT\tBT\tCT\tTAT\tWT\n");
    for(i=0; i<n; i++)
        printf("P%d\t%d\t%d\t%d\t%d\t%d\n", i+1, at[i], bt[i], ct[i], tat[i], wt[i]);

return 0;
}